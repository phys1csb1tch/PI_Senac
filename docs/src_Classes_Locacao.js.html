<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: src/Classes/Locacao.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: src/Classes/Locacao.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Locacao = void 0;
class Locacao {
    static contadorId = 1;
    idLivro;
    idUsuario;
    dataLocacao;
    dataDevolucao;
    dataDevolvida;
    devolvido = false;
    static listaLocacao = [];
    constructor(idLivro, idUsuario, dataLocacao, dataDevolucao, dataDevolvida) {
        this.idLivro = idLivro;
        this.idUsuario = idUsuario;
        this.dataLocacao = dataLocacao;
        this.dataDevolucao = dataDevolucao;
        this.dataDevolvida = dataDevolvida ?? null;
        Locacao.listaLocacao.push(this);
    }
    /**
     * Exibe informações sobre a locação
     */
    exibir() {
        console.log(` ID livro: ${this.idLivro} \n ID Usuario: ${this.idUsuario} \n Locado em: ${this.dataLocacao.toLocaleDateString()} \n Entrega Devolução: ${this.dataDevolucao.toLocaleDateString()} \n Status: ${this.isLate() ? "Atrasado" : "No Prazo"} \n Devolvido: ${this.devolvido ? "Sim" : "Não"}`);
    }
    devolver() {
        this.devolvido = true;
        if (this.devolvido) {
            return true;
        }
        else {
            return false;
        }
    }
    /**
     * Verifica se o livro está atrasado
     * @returns {Boolean} True == Atrasado | False == No prazo
     */
    isLate() {
        let isLate = new Date().getTime() > this.dataDevolucao.getTime() &amp;&amp;
            this.devolvido === false;
        return isLate ? true : false;
    }
    /**
     * Lista os registros de locação
     * @returns [void] - Printa no console as informações
     */
    static listarLocacoes() {
        Locacao.listaLocacao.forEach((el) => {
            console.log(el.exibir());
        });
    }
    /**
     * Busca as locações por usuário
     * @param criterio - Pode ser o ID ou o Nome do usuário
     */
    static buscarLocacaoPorUsuario(criterio) {
        let locacoes = Locacao.listaLocacao.filter((el) => el.idUsuario == criterio.toString()); // FEATURE: Exibir o nome do usuario, implementar método na classe Usuarios para mostrar infos buscando por id
        if (locacoes) {
            console.log(`O usuário possui ${locacoes.length} locações no seu histórico`); // FEATURE: Exibir o nome do livro, implementar método na classe Livros para mostrar infos buscando por id
            locacoes.forEach((el) => {
                console.log(`ID do livro: ${el.idLivro}`);
            });
        }
        else {
            console.log(`O usuário não possuí locações`);
        }
        // console.log(Locacao.listaLocacao.filter(el => el.idUsuario == criterio))
    }
}
exports.Locacao = Locacao;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="BaseClassConstructor.html">BaseClassConstructor</a></li><li><a href="Locacao.html">Locacao</a></li><li><a href="Usuario.html">Usuario</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Thu Dec 05 2024 12:14:54 GMT-0300 (Horário Padrão de Brasília)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
